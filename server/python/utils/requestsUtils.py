import requests

def send_request(url, data=None, method='GET', headers=None):
    try:
        print('Sending request to:', url)

        if method.upper() == 'GET':
            response = requests.get(url, headers=headers)
        elif method.upper() == 'POST':
            proxies = {'http': 'http://0.0.0.0:1234', 'https': 'http://0.0.0.0:1234'}
            cookies = {'security':'low', 'PHPSESSID':'locfijampccnvlk6kshm83ivaa'}
            headers_with_cookies = {**headers, **cookies}  # Merge headers with cookies
            response = requests.post(url, data=data, headers=headers_with_cookies, proxies=proxies)
        else:
            raise ValueError('Invalid HTTP method. Only GET and POST are supported.')
        
        return { "data": response.text } if response.ok else None
    except Exception as e:
        print(f'Error sending request: {e}')
        return None

print(send_request('http://localhost/DVWA/vulnerabilities/sqli/'))
