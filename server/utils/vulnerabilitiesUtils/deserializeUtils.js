const prompt = require('../fixUtils');

const findDeserialize = async (html) => {
    const code = `
    ${html}

    Given the HTML code, please extract and return the PHP serialized data only if found. If not found, return 'N'.
    `;
    const response = await prompt(code);
    const serializedData = response;

    console.log(`Serialized data: ${serializedData}`);
    return { data: serializedData || 'N' };
}

findDeserialize(`<!DOCTYPE html><html lang="en">
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sample</title>
</head>
<body>
<header><h1>Welcome</h1></header>
<div class="container">
    <div class="form-group">
        <label for="YTowOnt9">Username:</label>
        <input type="text" id="username" name="username">
    </div>
    <div class="form-group">
        <label for="password">Password:</label>
        <input type="password" id="password" name="password">
    </div>
</div>
<input type="text" value="Submit"><input type="submit" value="Submit">
<footer>
    <p>&copy; 2024 Messy HTML</p>
</footer>
</body>
</html>
`);

module.exports = {
    findDeserialize,
}