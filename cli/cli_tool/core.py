import requests 
import json
import requests 

def send_request(url, data=None, headers=None, target='http://example.com', scan_type='scan', api_key='test', cookie=None):
    try:
        print('Sending request to:', url + scan_type)
        print('API Key:', api_key)
        if not headers:
            headers = {
                'X-API-KEY': api_key,
            }
        else:
            headers['X-API-KEY'] = api_key
        
        print(f"Headers: {headers}")
        response = requests.post(url + scan_type, data=data, headers=headers, cookies=cookie)
        print('Response status code:', response.status_code)
        print('Response content:', response.content)
        return response.text() if response.ok else {}
    except Exception as e:
        print(f'Error: {e}')
        return { 'data': 'Error fetching'}

def import_json_file(file_path):
    try:
        with open(file_path, 'r') as file:
            return file.read()
    except FileNotFoundError:
        print(f"File '{file_path}' not found.")
        return None